---
title: '[HTTP ì™„ë²½ ê°€ì´ë“œ] 04. ì»¤ë„¥ì…˜ ê´€ë¦¬'
date: 2023-01-14 23:10:20
tags: ['HTTP ì™„ë²½ ê°€ì´ë“œ']
category: 'ë…ì„œ'
thumbnail: './images/thumbnail.png'
draft: false
---

<div class="unsplash-wrapper">
<img class="unsplash-thumbnail-image" alt="thumbnail" src="./images/thumbnail.png" />
<div class="unsplash-author">
Photo by <a href="https://unsplash.com/@theflouffy?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText">FLOUFFY</a> on  <a href="https://unsplash.com/ko/%EC%82%AC%EC%A7%84/ujUiOCHkqM0?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText">Unsplash</a>
</div>
</div>
<br>

> ğŸ’¡ HTTPê°€ ëŠë¦° ì´ìœ ì—ëŠ” ë‘ ê°€ì§€ ìš”ì†Œê°€ ìˆë‹¤ ; 1. TCP ì—°ê²° ì§€ì—° (TCP Slow Start) 2. ì»¤ë„¥ì…˜ ì§€ì—°

## í‚¤ì›Œë“œ

`TCP ì»¤ë„¥ì…˜`, `ì†Œì¼“`, `ì»¤ë„¥ì…˜ ì§€ì—°`, `ë³‘ë ¬ ì»¤ë„¥ì…˜`, `ì§€ì† ì»¤ë„¥ì…˜`, `í™‰ë³„ í—¤ë”`, `ì»¤ë„¥ì…˜ í—¤ë”`, `ë©±ë“±ì„±`

## ë©”ëª¨ ë° í•µì‹¬ ìš”ì 

- HTTP ê°€ ë©”ì‹œì§€ë¥¼ ë³´ë‚´ëŠ” ê³¼ì •ì„ ìƒê°í•´ë³´ì. ë¨¼ì € HTTP ê°€ í˜„ì¬ ì—°ê²°ë˜ì–´ ìˆëŠ” TCP ì»¤ë„¥ì…˜ì„ í†µí•´ ë©”ì‹œì§€ ë°ì´í„°ì˜ ë‚´ìš©ì„ ìˆœì„œëŒ€ë¡œ ë³´ë‚¸ë‹¤. (ì• í”Œë¦¬ì¼€ì´ì…˜ ê³„ì¸µ â†’ ì „ì†¡ ê³„ì¸µ) ì´ í›„, TCPì—ì„œëŠ” ì´ ë°ì´í„°ë¥¼ ì„¸ê·¸ë¨¼íŠ¸ë¼ëŠ” ë‹¨ìœ„ë¡œ ë¶„í•  í•œ í›„, IP íŒ¨í‚·ì— ë‹´ì•„ (ë„¤íŠ¸ì›Œí¬ ê³„ì¸µ(ì¸í„°ë„·)ì„ í†µí•˜ì—¬, ë°ì´í„°ë¥¼ ì „ì†¡í•´ì•¼ í•˜ë¯€ë¡œ. ë„¤íŠ¸ì›Œí¬ ê³„ì¸µìœ¼ë¡œ ë³´ë‚´ê¸° ìœ„í•´ í•´ë‹¹ í”„ë¡œí† ì½œì´ í•„ìš”í•˜ë‹¤) ì¸í„°ë„·ì„ í†µí•´ ë°ì´í„°ë¥¼ ì „ì†¡í•œë‹¤.
  - ğŸŒ§ï¸Â ê²°êµ­ ë„¤íŠ¸ì›Œí¬ì˜ ê³„ì¸µ ë‹¨ìœ„ë¡œ íƒ€ê³  ë‚´ë ¤ê°€ëŠ” í˜•íƒœë¥¼ ìƒê°í•˜ë©´ ëœë‹¤. ì´ í›„ì—ëŠ” ë°ì´í„° ë§í¬ ê³„ì¸µì„ í†µí•˜ì—¬ IPê°€ MAC ì£¼ì†Œë¡œ ë³€í™˜ë  ê²ƒ(ë¬¼ë¦¬ì ì¸ ì£¼ì†Œë¥¼ ì°¾ì•„ê°€ëŠ” ê³¼ì •ì´ë¼ê³  ìƒê°)ì„ ì˜ˆìƒí•  ìˆ˜ ìˆë‹¤.
- ìš´ì˜ì²´ì œì™€ í”„ë¡œê·¸ë¨ ì–¸ì–´ì—ì„œ TCP ì»¤ë„¥ì…˜ì˜ ìƒì„±ê³¼ ê´€ë ¨ëœ ì—¬ëŸ¬ ê¸°ëŠ¥ë“¤ì„ ì†Œì¼“ APIë¥¼ í†µí•˜ì—¬ ì§€ì›í•œë‹¤. ì´ ì†Œì¼“ APIë¥¼ í†µí•˜ì—¬, í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ì˜ TCP endpointë¥¼ ì—°ê²°í•˜ì—¬ ë°ì´í„° ìŠ¤íŠ¸ë¦¼ì„ ì½ê³  ì“¸ ìˆ˜ ìˆë‹¤. (ì¦‰, ì†Œì¼“ APIë¥¼ í†µí•˜ì—¬ HTTP íŠ¸ëœì­ì…˜ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆë‹¤)
  - `socket` (ìƒˆë¡œìš´ ì†Œì¼“ì„ ë§Œë“ ë‹¤), `bind` (ì†Œì¼“ì„ í¬íŠ¸ë¡œ ë¬¶ëŠ”ë‹¤), `listen`(ì†Œì¼“ ì»¤ë„¥ì…˜ì„ í—ˆê°€í•œë‹¤), `accpet`(ì†Œì¼“ ì»¤ë„¥ì…˜ì„ ê¸°ë‹¤ë¦°ë‹¤), `write` (ìš”ì²­ì„ ë³´ë‚¸ë‹¤), `read` (ìš”ì²­ì„ ì½ëŠ”ë‹¤), `close` (ì»¤ë„¥ì…˜ì„ ë‹«ëŠ”ë‹¤)
- HTTP ì„±ëŠ¥ì— ì˜í–¥ì„ ì£¼ëŠ” ìš”ì†Œë“¤ : TCP ì„±ëŠ¥, HTTP ì»¤ë„¥ì…˜ì˜ ì„±ëŠ¥ (ì»¤ë„¥ì…˜ì´ ìˆœì°¨ì ìœ¼ë¡œ ì²˜ë¦¬ë  ê²½ìš°, ë¬¼ë¦¬ì ì¸ ì§€ì—°ê³¼ UX ì ì¸ ì§€ì—°ì´ ìƒê¸¸ ìˆ˜ ìˆìŒ)
- HTTP Connection Header ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì´ **í˜„ì¬ ë§ºê³  ìˆëŠ” ì»¤ë„¥ì…˜ì—ë§Œ ì ìš©ë  ì˜µì…˜** ì„ ì§€ì •í•œë‹¤(ì»¤ë„¥ì…˜ í—¤ë”ëŠ” hop-by-hop í—¤ë”ë‹¤, ì˜¤ì§ í•˜ë‚˜ì˜ ì „ì†¡ ë§í¬ì—ë§Œ ì ìš©ë˜ë©° ë‹¤ìŒ ì„œë²„ë¡œ ì „ë‹¬ë˜ì–´ì„œëŠ” ì•ˆëœë‹¤). ë”°ë¼ì„œ ì´ ì»¤ë„¥ì…˜ì´ ì¢…ë£Œë˜ê³  ë‹¤ìŒ ì»¤ë„¥ì…˜ì— ë©”ì‹œì§€ë¥¼ ì „ë‹¬í•˜ê¸° ì „ì—, ì´ í—¤ë”ì˜ ë‚´ìš©ì€ ëª¨ë‘ ì‚­ì œí•˜ì—¬ì•¼ í•œë‹¤.
  - ë˜í•œ, Connection í—¤ë”ì— ê¸°ìˆ ë˜ì–´ ìˆì§€ëŠ” ì•Šë”ë¼ë„ í™‰ë³„ í—¤ë”ì¸ ê²ƒë“¤ë„ ìˆë‹¤.
- íŠ¹ì • ë¸Œë¼ìš°ì €ì˜ ê²½ìš°, ê°ì²´ë¥¼ í™”ë©´ì— ê·¸ë¦´ ë•Œ ê°ì²´ì˜ í¬ê¸°ë¥¼ ì•Œì•„ì•¼ í•œë‹¤. ë”°ë¼ì„œ ì´ëŸ¬í•œ ê°ì²´ë¥¼ ë‚´ë ¤ë°›ê¸° ì „ì— ë ˆì´ì•„ì›ƒì„ ê·¸ë¦¬ê¸° ìœ„í•´ HTMLì—ì„œ í­ê³¼ ë†’ì´ë¥¼ ê¸°ìˆ í•˜ì—¬ ë ˆì´ì•„ì›ƒ ì§€ì—°ì„ ì—†ì•¨ ìˆ˜ ìˆë‹¤.
  - ğŸŒ§ï¸Â LightHouse ë¥¼ í†µí•˜ì—¬ ì„±ëŠ¥ ë¶„ì„ì„ í•  ë•Œ, ì´ë¯¸ì§€ ê°ì²´ì˜ `width`ì™€ `height` ë¥¼ ëª…ì‹œí•˜ë¼ëŠ” ì´ì•¼ê¸°ë¥¼ í•˜ëŠ” ì´ìœ ì¸ ê²ƒ ê°™ë‹¤. ë˜í•œ, ë§ì€ ì´ë¯¸ì§€ ìµœì í™” ë„êµ¬ (ì˜ˆ: `next/image` ) ì—ì„œ ì´ë¯¸ì§€ ë Œë”ë§ ì„±ëŠ¥ì„ í–¥ìƒì‹œí‚¤ê¸° ìœ„í•˜ì—¬ `size` ë¥¼ ëª…ì‹œí•˜ë„ë¡ í•˜ëŠ” ë‚´ìš©ê³¼ ì¼ë§¥ìƒí†µ í•˜ë‹¤.
- ì»¤ë„¥ì…˜ ì§€ì—°ì„ ë§‰ê¸° ìœ„í•œ ë°©ì•ˆ
  - ë³‘ë ¬ ì»¤ë„¥ì…˜ : ë¦¬ì†ŒìŠ¤ ë³„ë¡œ connectionì„ ì‚¬ìš©í•œë‹¤. ì¦‰ ë¦¬ì†ŒìŠ¤ ë³„ë¡œ connection ì„ ì‚¬ìš©í•¨ìœ¼ë¡œì¨, ê° ë¦¬ì†ŒìŠ¤ë¥¼ ë™ì‹œì— ë‚´ë ¤ë°›ëŠ”ë‹¤.
    - connection ì„ í•œ ë²ˆì— ì—¬ëŸ¬ ê°œ ì‚¬ìš©í•˜ë¯€ë¡œ, ë‹¤ìˆ˜ì˜ ì»¤ë„¥ì…˜ì— ëŒ€í•œ ì„±ëŠ¥ ë¶€í•˜ê°€ ìƒê¸¸ ìˆ˜ ìˆë‹¤. (ì„œë²„ì— ë¶€ë‹´ì´ ì»¤ì§„ë‹¤.)
    - ë¸Œë¼ìš°ì €ì—ì„œëŠ” ë³‘ë ¬ ì»¤ë„¥ì…˜ì„ í—ˆìš©í•˜ì§€ë§Œ, ì ì€ ìˆ˜ì˜ ë³‘ë ¬ ì»¤ë„¥ì…˜ ë§Œì„ í—ˆìš©í•œë‹¤.
  - ì§€ì† ì»¤ë„¥ì…˜ : site locality ë¥¼ ì´ìš©í•œë‹¤. ì´ëŠ” ëŒ€ë¶€ë¶„ client ëŠ” ë³´í†µ ê°™ì€ site ì— ì—¬ëŸ¬ ê°œì˜ connection ì„ ë§ºëŠ”ë‹¤ëŠ” ê²ƒì— ê¸°ì¸í•œë‹¤.
    - connectionì˜ ì²˜ë¦¬ê°€ ì™„ë£Œëœ ì´í›„ì—ë„ ì´ connection ì„ ê³„ì†í•´ì„œ ìœ ì§€í•œë‹¤. ë”°ë¼ì„œ connection ì„ ë§ºê³  ëŠìŒì— ëŒ€í•œ overhead ê°€ ì¤„ì–´ë“¤ë©°, ì¶”ê°€ì ìœ¼ë¡œ TCP slow start ì— ëŒ€í•œ overhead ë„ ì¤„ì–´ë“¤ê²Œ ëœë‹¤.
    - ì§€ì† ì»¤ë„¥ì…˜ì„ ì‚¬ìš©í•˜ëŠ” ê²½ìš°, ì»¤ë„¥ì…˜ì„ ì˜ëª» ê´€ë¦¬í•˜ë©´ ì„œë²„ì— ê³„ì† ì—°ê²°ë˜ì–´ìˆëŠ” ì§€ì† connection ì´ ìƒì„±ë˜ê²Œ ëœë‹¤.
    - ğŸŒ§ï¸Â ì§€ì† ì»¤ë„¥ì…˜ì„ ì‚¬ìš©í•  ë•ŒëŠ” **ì»¤ë„¥ì…˜ì— ìˆëŠ” ëª¨ë“  ë©”ì‹œì§€ê°€ ìì‹ ì˜ ê¸¸ì´ ì •ë³´ë¥¼ ì •í™•íˆ ê°€ì§€ê³  ìˆì„ ë•Œë§Œ ì»¤ë„¥ì…˜ì„ ì§€ì†í•  ìˆ˜ ìˆë‹¤. íŠ¸ëœì­ì…˜ì´ ëë‚˜ëŠ” ì‹œì ì— ê¸°ì¡´ ë©”ì‹œì§€ì˜ ëê³¼ ìƒˆë¡œìš´ ë§¤ì‹œì§€ì˜ ì‹œì‘ì ì„ êµ¬ë¶„í•˜ê¸° ìœ„í•˜ì—¬ ê¸¸ì´ì •ë³´ë¥¼ ì‚¬ìš©í•œë‹¤**
    - ì§€ì† ì»¤ë„¥ì…˜ì„ ì‚¬ìš©í•˜ëŠ” ë°©ë²• : `Connection: keep-alive` í—¤ë”, **HTTP/1.1 ì˜ ì§€ì† ì»¤ë„¥ì…˜**
- í”„ë¡ì‹œì—ì„œëŠ” Connection í—¤ë”ë‚˜, í™‰ë³„ í—¤ë”ë¥¼ ì‚¬ìš©í•˜ë©´ ë¬¸ì œê°€ ìƒê¸¸ ìˆ˜ ìˆìœ¼ë¯€ë¡œ (ë©ì²­í•œ í”„ë¡ì‹œ ë¬¸ì œ) í”„í”„ë¡ì‹œëŠ” Connection í—¤ë”ì™€ Connection í—¤ë”ì— ëª…ì‹œëœ í—¤ë”ë“¤ì€ ì ˆëŒ€ë¡œ ì „ë‹¬í•´ì„œëŠ” ì•ˆëœë‹¤. ë˜í•œ í™‰ë³„ í—¤ë”ë“¤ ì—­ì‹œ ì „ë‹¬í•˜ê±°ë‚˜ ìºì‹œí•´ì„œëŠ” ì•ˆëœë‹¤.
- ë©±ë“±(idempotent) - í•œ ë²ˆ ë˜ëŠ” ì—¬ëŸ¬ ë²ˆ ì‹¤í–‰ëëŠ”ì§€ì— ìƒê´€ì—†ì´ ê°™ì€ ê²°ê³¼ë¥¼ ë°˜í™˜ (ë°˜ëŒ€ : ë¹„ë©±ë“± (unidempotent)
  - HTTP ë©”ì„œë“œì—ì„œ ë©±ë“±ì„±ì„ íŒë‹¨í•  ë•ŒëŠ” **ë°±ì—”ë“œì˜ ìƒíƒœ** ë§Œì„ ë³´ê³  íŒë‹¨í•œë‹¤. ì¦‰, ìš”ì²­ì„ ëª‡ ë²ˆ ë³´ëƒˆë˜ê°„ì— ì„œë²„ì˜ ìƒíƒœê°€ í•­ìƒ ê°™ìœ¼ë©´ ë©±ë“±ì„±ì„ ê°€ì§€ëŠ” ë©”ì„œë“œë¼ê³  í•œë‹¤.
  - ì•ˆì „í•œ ë©”ì„œë“œì™€ ë©±ë“±ì„±ì€ ë‹¤ë¥´ë‹¤. ëª¨ë“  ì•ˆì „í•œ ë©”ì„œë“œë“¤ì€ ë©±ë“±ì„±ì„ ê°–ì§€ë§Œ, ì—­ì€ ì„±ë¦½í•˜ì§€ ì•ŠëŠ”ë‹¤. ì•ˆì „í•œ ë©”ì„œë“œë€ ìš”ì²­ì„ ë³´ëƒˆì„ ë•Œ, ì„œë²„ì˜ ìƒíƒœë¥¼ ë³€ê²½ì‹œí‚¤ì§€ ì•ŠëŠ” ë©”ì„œë“œì´ë‹¤.

## ì¸ìš©

> HTTPê°€ ë©”ì‹œì§€ë¥¼ ì „ì†¡í•˜ê³ ì í•  ê²½ìš°, í˜„ì¬ ì—°ê²°ë˜ì–´ ìˆëŠ” TCP ì»¤ë„¥ì…˜ì„ í†µí•´ì„œ ë©”ì‹œì§€ ë°ì´í„°ì˜ ë‚´ìš©ì„ ìˆœì„œëŒ€ë¡œ ë³´ë‚¸ë‹¤. TCPëŠ” ì„¸ê·¸ë¨¼íŠ¸ë¼ëŠ” ë‹¨ìœ„ë¡œ ë°ì´í„° ìŠ¤íŠ¸ë¦¼ì„ ì˜ê²Œ ë‚˜ëˆ„ê³ , ì„¸ê·¸ë¨¼íŠ¸ë¥¼ IP íŒ¨í‚·ì´ë¼ê³  ë¶ˆë¦¬ëŠ” ë´‰íˆ¬ì— ë‹´ì•„ì„œ ì¸í„°ë„·ì„ í†µí•´ ë°ì´í„°ë¥¼ ì „ë‹¬í•œë‹¤. (87p)

> ì†Œì¼“ APIë¥¼ ì‚¬ìš©í•˜ë©´, TCP ì¢…ë‹¨ (endpoint) ë°ì´í„° êµ¬ì¡°ë¥¼ ìƒì„±í•˜ê³ , ì›ê²© ì„œë²„ì˜ TCP ì¢…ë‹¨ì— ê·¸ ì¢…ë‹¨ ë°ì´í„° êµ¬ì¡°ë¥¼ ì—°ê²°í•˜ì—¬ ë°ì´í„° ìŠ¤íŠ¸ë¦¼ì„ ì½ê³  ì“¸ ìˆ˜ ìˆë‹¤. (90p)

> HTML í¼ë¸”ë¦¬ì…”ëŠ” ì´ë¯¸ì§€ì™€ ê°™ì€ ë‚´ë¶€ ê°ì²´ì— ëŒ€í•œ HTML íƒœê·¸ì— í­(width)ì™€ ë†’ì´(height)ë¥¼ ê¸°ìˆ í•˜ì—¬ â€˜ë ˆì´ì•„ì›ƒ ì§€ì—°â€™ì„ ì—†ì•¨ ìˆ˜ ìˆë‹¤. ë‚´ë¶€ ê°ì²´ë“¤ì— ëŒ€í•œ í­ê³¼ ë†’ì´ë¥¼ ëª…ì‹œí•¨ìœ¼ë¡œì¨ ë¸Œë¼ìš°ì €ëŠ” ì„œë²„ì—ì„œ ê°ì²»ã„¹ì„ ë‚´ë ¤ë°›ê¸° ì „ì— ë ˆì´ì•„ì›ƒì„ ê·¸ë¦´ ìˆ˜ ìˆë‹¤. (101p)

> ë©ì²­í•œ í”„ë½ì‹œëŠ” Connection: Keep-Allive ì™€ ê°™ì€ í™‰ë³„ í—¤ë”ë¥¼ ë¬´ì¡°ê±´ ì „ë‹¬í•˜ê¸° ë•Œë¬¸ì— ë¬¸ì œë¥¼ ì¼ìœ¼í‚¨ë‹¤. í™‰ë³„ í—¤ë”ë“¤ì€ í•œ ê°œì˜ íŠ¹ì • ì»¤ë„¥ì…˜ì—ì„œ ì“°ì´ê³  ê·¸ ì´í›„ì—ëŠ” ì „ë‹¬í•˜ë©´ ì•ˆ ëœë‹¤. í™‰ë³„ í—¤ë”ë¥¼ ì „ë‹¬ë°›ì€ ì„œë²„ê°€ ê·¸ í—¤ë”ë¥¼ ìì‹ ê³¼ í”„ë½ì‹œ ê°„ì˜ ì»¤ë„¥ì…˜ì— ëŒ€í•œ ê²ƒìœ¼ë¡œ ì˜¤í•´í•˜ë©´ì„œ ë¬¸ì œê°€ ìƒê¸°ëŠ” ê²ƒì´ë‹¤. (111p)

> HTTP/1.1 ì—ì„œëŠ” keep-alive ì»¤ë„¥ì…˜ì„ ì§€ì›í•˜ì§€ ì•ŠëŠ” ëŒ€ì‹ , ì„¤ê³„ê°€ ë” ê°œì„ ëœ ì§€ì† ì»¤ë„¥ì…˜ì„ ì§€ì›í•œë‹¤. ì§€ì† ì»¤ë„¥ì…˜ì˜ ëª©ì ì€ keep-alive ì»¤ë„¥ì…˜ê³¼ ê°™ì§€ë§Œ ê·¸ì— ë¹„í•´ ë” ì˜ ë™ì‘í•œë‹¤. (112p)

## ì°¸ê³ ìë£Œ

[ë©±ë“±ì„± - MDN Web Docs](https://developer.mozilla.org/ko/docs/Glossary/Idempotent#:~:text=%EB%8F%99%EC%9D%BC%ED%95%9C%20%EC%9A%94%EC%B2%AD%EC%9D%84%20%ED%95%9C%20%EB%B2%88,%EB%93%B1%EC%84%B1%EC%9D%84%20%EA%B0%80%EC%A1%8C%EB%8B%A4%EA%B3%A0%20%EB%A7%90%ED%95%A9%EB%8B%88%EB%8B%A4)

[ì•ˆì „í•¨ ((HTTP ë©”ì„œë“œ)) - MDN Web Docs](https://developer.mozilla.org/ko/docs/Glossary/Safe/HTTP#:~:text=HTTP%20%EB%A9%94%EC%84%9C%EB%93%9C%EA%B0%80%20%EC%84%9C%EB%B2%84%EC%9D%98,HEAD%20%2C%20OPTIONS%20%EA%B0%80%20%EC%95%88%EC%A0%84%ED%95%A9%EB%8B%88%EB%8B%A4.)

[HTTP ë©”ì†Œë“œì˜ ë©±ë“±ì„±, ê·¸ë¦¬ê³  ì•ˆì „í•œ ë©”ì„œë“œ](https://hudi.blog/http-method-idempotent/)
