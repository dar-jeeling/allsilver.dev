---
title: '[HTTP ì™„ë²½ ê°€ì´ë“œ] 06. í”„ë½ì‹œ'
date: 2023-01-24 21:27:19
tags: ['HTTP ì™„ë²½ ê°€ì´ë“œ']
category: 'ë…ì„œ'
thumbnail: './images/thumbnail_list.png'
draft: false
---

<div class="unsplash-wrapper">
<img class="unsplash-thumbnail-image" alt="thumbnail" src="./images/thumbnail.png" />
<div class="unsplash-author">
Photo by <a href="https://unsplash.com/es/@madhatterzone?utm_source=uns plash&utm_medium=referral&utm_content=creditCopyText">Manja Vitolic</a> on  <a href="https://unsplash.com/ko/%EC%82%AC%EC%A7%84/gKXKBY-C-Dk?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText">Unsplash</a>
</div>
</div>

<br>

> í”„ë½ì‹œëŠ” ì„œë²„ì™€ í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ì—ì„œ ì¤‘ê°„ì—ì„œ **ìµœì í™” í•  ìˆ˜ ìˆëŠ” ëª¨ë“  ê²ƒì„ í•œë‹¤.**

## í‚¤ì›Œë“œ

`í”„ë½ì‹œ`, `ê²Œì´íŠ¸ì›¨ì´`, `í´ë¼ì´ì–¸íŠ¸ í”„ë½ì‹œ ì„¤ì •`, `Via í•„ë“œ`, `TRACE ë©”ì„œë“œ`, `OPTION ë©”ì„œë“œ`, `Allow í—¤ë”`

## ë©”ëª¨ ë° í•µì‹¬ ìš”ì 

- ì›¹ í”„ë½ì‹œ ì„œë²„ : í´ë¼ì´ì–¸íŠ¸ ì…ì¥ì—ì„œ íŠ¸ëœì­ì…˜ì„ ìˆ˜í–‰í•˜ëŠ” ì¤‘ê³„ì¸, ì›¹ í”„ë½ì‹œê°€ ìˆë‹¤ë©´ í´ë¼ì´ì–¸íŠ¸ëŠ” HTTP ì„œë²„ì™€ ì§ì ‘ ëŒ€í™”í•˜ëŠ”ê²Œ ì•„ë‹ˆë¼ ì›¹ í”„ë½ì‹œ ì„œë²„ì™€ ëŒ€í™”í•˜ê²Œ ë¨.
- HTTP í”„ë½ì‹œ ì„œë²„ : ì›¹ ì„œë²„ì™€ ì›¹ í´ë¼ì´ì–¸íŠ¸ì˜ ì¤‘ê°„ì— ìœ„ì¹˜í•¨ â‡’ í´ë¼ì´ì–¸íŠ¸ì´ë©´ì„œ ì„œë²„ì˜ ì—­í• ì„ í•œë‹¤.
- ìºì‹œ í”„ë½ì‹œ ì„œë²„ì™€ ê°™ì€ ëª‡ëª‡ í”„ë½ì‹œ ì• í”Œë¦¬ì¼€ì´ì…˜ì€ ì‚¬ìš©ìê°€ ë§ì„ìˆ˜ë¡ ìœ ë¦¬í•œë°, ì´ëŠ” ê³µí†µëœ ìš”ì²­ì—ì„œ ì´ë“ì„ ì·¨í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì´ë‹¤. (ğŸŒ§ï¸Â ê³µí†µëœ ìš”ì²­ì„ í†µí•˜ì—¬ ì´ë“ì„ ì·¨í•˜ëŠ” í˜•íƒœëŠ” ì»´í“¨í„°ì—ì„œ cache ì „ëµì„ ì‚¬ìš©í•˜ëŠ” ê²ƒê³¼ ë¹„ìŠ·í•œ ëŠë‚Œì´ë‹¤. ì´ëŸ¬í•œ ìš”ì²­ë“¤ì´ ì¼ì¢…ì˜ localityë¥¼ ê°€ì§„ ê²ƒ ê°™ê¸°ë„ í•˜ê³ ..)
- í”„ë½ì‹œì™€ ê²Œì´íŠ¸ì›¨ì´ì˜ ì°¨ì´ì  : í”„ë½ì‹œëŠ” **ê°™ì€** í”„ë¡œí† ì½œì—ì„œ ì›€ì§ì´ëŠ” ë‘˜ ì´ìƒì˜ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì—°ê²°í•˜ê³  ê²Œì´íŠ¸ì›¨ì´ëŠ” **ë‹¤ë¥¸** í”„ë¡œí† ì½œì—ì„œ ì›€ì§ì´ëŠ” ë‘˜ ì´ìƒì˜ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì—°ê²°í•œë‹¤. ì¦‰ ë‘˜ ë‹¤ ì¼ì¢…ì˜ **ì¤‘ê³„ì** ì—­í• ì„ í•˜ì§€ë§Œ, ê²Œì´íŠ¸ì›¨ì´ì˜ ê²½ìš° **ì„œë¡œ ë‹¤ë¥¸ í”„ë¡œí† ì½œê°„ì˜ íŠ¸ëœì­ì…˜ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆëŠ” ë³€í™˜ê¸°**ì—­í• ì„ í•œë‹¤.
- í”„ë½ì‹œ ì„œë²„ëŠ” ê·¸ë¥¼ ê±°ì³ê°€ëŠ” ëª¨ë“  HTTP íŠ¸ë˜í”½ì„ ë“¤ì—¬ë‹¤ë³´ê³  ê±´ë“œë¦´ ìˆ˜ ìˆë‹¤.
- í”„ë½ì‹œë¥¼ ì‚¬ìš©í•˜ëŠ” ë‹¤ì–‘í•œ ì˜ˆì œ : í•„í„°, ë¬¸ì„œ ì ‘ê·¼ ì œì–´ì, ë°©í™”ë²½, ìºì‹œ, ë¦¬ë²„ìŠ¤ í”„ë½ì‹œ, ì½˜í…ì¸  ë¼ìš°í„°, íŠ¸ëœìŠ¤ì½”ë”, ìµëª…í™” ë“±
  â‡’ ğŸŒ§ï¸Â ì–´ì¨Œë“  ì„œë²„ì™€ í´ë¼ì´ì–¸íŠ¸ ì¤‘ê°„ì—ì„œ ê·¸ë“¤ì˜ íŠ¸ëœì­ì…˜ì„ ìœ„í•œ ìœ ìš©í•œ ì—­í• ë“¤ì„ í”„ë½ì‹œ ë‹¨ì—ì„œ ìˆ˜í–‰í•˜ë„ë¡ êµ¬í˜„í•œë‹¤.
- í´ë¼ì´ì–¸íŠ¸ íŠ¸ë˜í”½ì„ í”„ë½ì‹œë¡œ ê°€ê²Œ í•˜ëŠ” ë°©ë²• : í´ë¼ì´ì–¸íŠ¸ ìˆ˜ì •, ë„¤íŠ¸ì›Œí¬ ìˆ˜ì • (ì¸í„°ì…‰íŠ¸ í”„ë½ì‹œ), DNS ì´ë¦„ ê³µê°„ ìˆ˜ì •, ì›¹ ì„œë²„ ìˆ˜ì • (HTTP ë¦¬ë‹¤ì´ë ‰ì…˜ ëª…ë ¹ (ì‘ë‹µì½”ë“œ 305) ì‚¬ìš©)
- í´ë¼ì´ì–¸íŠ¸ê°€ ì›¹ ì„œë²„ì— ìš”ì²­ì„ ë³´ë‚¼ ë•ŒëŠ” ìš”ì²­ì¤„ì— ë¶€ë¶„ URIë¥¼ ì‚¬ìš©í•˜ì§€ë§Œ, í”„ë¡ì‹œì— ìš”ì²­ì„ ë³´ë‚¼ ë•ŒëŠ” **ì™„ì „í•œ URI** ë¥¼ ì‚¬ìš©í•œë‹¤. ğŸŒ§ï¸Â ì´ëŠ” í”„ë½ì‹œê°€ ì„œë²„ì™€ í´ë¼ì´ì–¸íŠ¸ ì¤‘ê°„ì— ë¼ì–´ìˆê¸° ë•Œë¬¸ì¸ë°, í´ë¼ì´ì–¸íŠ¸ì—ì„œ ë³´ë‚¸ ìš”ì²­ì„ í”„ë½ì‹œê°€ ì„œë²„ë¡œ ì „ë‹¬í•˜ê¸° ìœ„í•´ì„œëŠ” í”„ë½ì‹œëŠ” ì„œë²„ì˜ ì´ë¦„ì„ ì•Œ í•„ìš”ê°€ ìˆë‹¤.
- ğŸŒ§ï¸Â Next.js ì˜ SSG ì²˜ëŸ¼ CDNì„ ì´ìš©í•œ ìºì‹± ë°©ì‹ì„ ì‚¬ìš©í•  ë•Œ, í”„ë¡ì‹œ ì„œë²„ë¥¼ ì‚¬ìš©í•œë‹¤ê³  ë§í•  ìˆ˜ ìˆë‹¤. ì‚¬ìš©ìì™€ (ë¬¼ë¦¬ì ìœ¼ë¡œ) ê°€ê¹Œìš´ ìœ„ì¹˜ì— ìˆëŠ” ìºì‹œ í”„ë¡ì‹œë¥¼ ë‘ê³  ê·¸ í”„ë¡ì‹œì—ì„œ ì½˜í…ì¸ ë¥¼ ë°›ì•„ì˜´ìœ¼ë¡œì¨ ë¹ ë¥¸ ì„±ëŠ¥ì„ ì´ìš©í•  ìˆ˜ ìˆë‹¤. (ì¼ì¢…ì˜ edge computingì´ë¼ê³  í•  ìˆ˜ë„ ìˆì„ ê²ƒ ê°™ë‹¤)
- í”„ë½ì‹œë¥¼ ë„˜ë‚˜ë“œëŠ” ë©”ì‹œì§€ë¥¼ ì¶”ì í•˜ëŠ” ë°©ë²• : Via í•„ë“œ, TRACE ë©”ì„œë“œ
- TRACEì™€ OPTIONê³¼ ê°™ì´ í”„ë½ì‹œë¥¼ ë„˜ë‚˜ë“œëŠ” ë©”ì„œë“œë¥¼ ì‚¬ìš©í•  ë•Œ, ê±°ì¹˜ëŠ” í”„ë½ì‹œ í™‰ì˜ ê°¯ìˆ˜ë¥¼ ì§€ì •í•˜ê¸° ìœ„í•˜ì—¬ `Max-Forwards` í—¤ë”ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ì´ ê°’ì€ í™‰ì„ í•˜ë‚˜ì”© ê±°ì³ê°ˆ ë•Œë§ˆë‹¤ í•˜ë‚˜ì”© ì¤„ì–´ë“¤ë©°, ëª¨ë“  í”„ë½ì‹œë‚˜ ê²Œì´íŠ¸ì›¨ì´ëŠ” `Max-Fowards` ë¥¼ ì§€ì›í•´ì•¼ í•œë‹¤.
- í”„ë½ì‹œ ì„œë²„ê°€ ì–´ë–¤ ë©”ì‹œì§€ë¥¼ ì¤‘ê³„í•  ë•Œ, ì´í•´í•  ìˆ˜ ì—†ëŠ” í—¤ë”ë¥¼ ë§Œë‚˜ê±°ë‚˜ ì¹œìˆ™í•˜ì§€ ì•Šì€ ë©”ì„œë“œë¥¼ ë§Œë‚˜ëŠ” ê²½ìš° ê°€ëŠ¥í•œ **ê·¸ëŒ€ë¡œ ì „ë‹¬**í•˜ì—¬ì•¼ í•œë‹¤.
- ì„œë²„ê°€ ì–´ë–¤ ê¸°ëŠ¥ì„ ì§€ì›í•˜ëŠ”ì§€ ì•Œê¸° ìœ„í•˜ì—¬ HTTP OPTION ë©”ì„œë“œë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.
- Allow í—¤ë”ëŠ” ì„œë²„ì— ì˜í•´ ì–´ë–¤ ë©”ì„œë“œê°€ ì§€ì›ë˜ëŠ” ì§€ë¥¼ ì„œìˆ í•œë‹¤.

## ìŠ¤í„°ë””ì—ì„œ ë°°ìš´ ë‚´ìš©

- ([ì¶œì²˜](https://github.com/prgrms-web-devcourse/We-are-the-MASTERS-OF-HTTP/blob/main/3%EC%A3%BC%EC%B0%A8/sonny.md)) ë¦¬ì•¡íŠ¸ CRAë¥¼ ê°œë°œí™˜ê²½(dev)ì—ì„œ ì‹¤í–‰í•˜ê²Œ ë˜ë©´ CORSê°€ í—ˆìš©ë˜ëŠ” ì´ìœ ëŠ”, CRAë¥¼ í†µí•˜ì—¬ `webpack` ì„¤ì •ì„ í•˜ê²Œ ë˜ê³ , ì´ `webpack`ì´ í”„ë½ì‹œ ì„œë²„ë¥¼ ë§Œë“¤ê³  ë¸Œë¼ìš°ì € ì„¤ì •ì„ í†µí•˜ì—¬ (ë¸Œë¼ìš°ì €ì˜ í”„ë½ì‹œ ì„¤ì •ì„ ì‚¬ìš©í•˜ì—¬ HTTP ìš”ì²­ì„ ë°”ë¡œ í”„ë½ì‹œë¡œ ë³´ë‚¸ë‹¤) í”„ë¡ì‹œì— ìš”ì²­ì„ ë³´ë‚´ë„ë¡ í•œë‹¤.

```javascript
module.exports = {
  devServer: {
    proxy: {},
  },
}
```

![cra_proxy](https://camo.githubusercontent.com/175000c5b543a3a2e8944e5c049b0f85a591ff23e2d67e3e811a1a0a45b96e65/68747470733a2f2f6a6f73687561313938382e6769746875622e696f2f7765627061636b2d67756964652f6173736574732f696d672f70726f78792e64636539643837632e706e67)

ğŸŒ§ï¸ ë³¸ì¸ì´ ì§ì ‘ ê²ªì€ ì¼ì€ ì•„ë‹ˆì§€ë§Œ, `Next.js` ë¥¼ ì‚¬ìš©í•  ë•Œ, ë¡œì»¬ í™˜ê²½ì—ì„œ CORS ë¬¸ì œê°€ ìƒê²¨ì„œ `next.config.js` ì˜ `rewrites` ì„¤ì •ìœ¼ë¡œ í•´ê²°í•˜ì‹  ë¶„ì´ ê³„ì…¨ë‹¤.
[í•´ë‹¹ ë‚´ìš©ì€ ê³µì‹ë¬¸ì„œì—ì„œ í™•ì¸í•  ìˆ˜ ìˆë‹¤.](https://nextjs.org/docs/api-reference/next.config.js/rewrites)

> Rewrites act as a URL proxy and mask the destination path, making it appear the user hasn't changed their location on the site. In contrast, redirects will reroute to a new page and show the URL changes.

ì•„ë§ˆ ìœ„ì˜ CRAì—ì„œ CORSë¥¼ íšŒí”¼í•˜ëŠ” ë°©ë²•ê°€ ì¼ë§¥ìƒí†µí•œ ë‚´ìš©ì¸ ê²ƒ ê°™ë‹¤.
ì¡°ë§Œê°„ ì¿ í‚¤ë¥¼ í†µí•´ì„œ ì¸ì¦ ë¡œì§ì„ êµ¬í˜„í•  ì¼ì´ í•œë²ˆ ë” ìƒê¸°ëŠ”ë°, ì´ë²ˆì—ëŠ” ê¸°ì¡´ì˜ ë°©ë²•ì´ ì•„ë‹ˆë¼ ì‘ë‹µí—¤ë”ë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ì‹ì´ í•„ìš”í•  ê²ƒ ê°™ì€ë° í•´ë‹¹ ê²½ìš°ì—ì„œ ì´ ë‚´ìš©ì„ ì‚¬ìš© í•  ìˆ˜ ìˆì„ ê²ƒ ê°™ë‹¤.

## ì¸ìš©

> ì—„ë°€í•˜ê²Œ ë§í•˜ë©´, í”„ë½ì‹œëŠ” ê°™ì€ í”„ë¡œí† ì½œì„ ì‚¬ìš©í•˜ëŠ” ë‘˜ ì´ìƒì˜ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì—°ê²°í•˜ê³ , ê²Œì´íŠ¸ì›¨ì´ëŠ” ì„œë¡œ ë‹¤ë¥¸ í”„ë¡œí† ì½œì„ ì‚¬ìš©í•˜ëŠ” ë‘˜ ì´ìƒì„ ì—°ê²°í•œë‹¤. ê²Œì´íŠ¸ì›¨ì´ëŠ” í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ê°€ ì„œë¡œ ë‹¤ë¥¸ í”„ë¡œí† ì½œë¡œ ë§í•˜ë”ë¼ë„ ì„œë¡œ ë‹¤ë¥¸ íŠ¸ëœì­ì…˜ì„ ì™„ë£Œí•  ìˆ˜ ìˆë„ë¡ í•´ì£¼ëŠ” í”„ë¡œí† ì½œ ë³€í™˜ê¸° ì²˜ëŸ¼ ë™ì‘í•œë‹¤. (149p)

> ë¸Œë¼ìš°ì €ì™€ ì„œë²„ëŠ” ë‹¤ë¥¸ ë²„ì „ì˜ HTTPë¥¼ êµ¬í˜„í•˜ê¸° ë•Œë¬¸ì—, í”„ë½ì‹œëŠ” ë•Œë•Œë¡œ ì•½ê°„ì˜ í”„ë¡œí† ì½œ ë³€í™˜ì„ í•˜ê¸°ë„ í•œë‹¤. ê·¸ë¦¬ê³  ìƒìš© í”„ë½ì‹œ ì„œë²„ëŠ” SSL ë³´ì•ˆ í”„ë¡œí† ì½œ, SOCKS ë°©í™”ë²½, FTP ì ‘ê·¼, ê·¸ë¦¬ê³  ì›¹ ê¸°ë°˜ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì§€ì›í•˜ê¸° ìœ„í•´ ê²Œì´íŠ¸ì›¨ì´ ê¸°ëŠ¥ì„ êµ¬í˜„í•œë‹¤. (150p)

> í”„ë½ì‹œì™€ ì„œë²„ ìš”ì²­ ëª¨ë‘ì— ëŒ€í•´ HTTP/1.1ì€ í˜„ì¬ ì„œë²„ë“¤ì´ ì™„ì „í•œ URIë¥¼ ë‹¤ë£° ê²ƒì„ ìš”êµ¬í•œë‹¤. ê·¸ëŸ¬ë‚˜ í˜„ì‹¤ì—ì„œëŠ” ë°°ì¹˜ë˜ì–´ ìˆëŠ” ì„œë²„ë“¤ ì¤‘ ë‹¤ìˆ˜ê°€ ì—¬ì „íˆ ë¶€ë¶„ URIë§Œì„ ë°›ì•„ë“¤ì¸ë‹¤. (165p)

> í´ë¼ì´ì–¸íŠ¸ëŠ” ìì‹ ì´ í”„ë½ì‹œì™€ ëŒ€í™”í•˜ê³  ìˆìŒì„ í•­ìƒ ì•Œê³  ìˆëŠ” ê²ƒì€ ì•„ë‹ˆë‹¤, ì™œëƒí•˜ë©´ ëª‡ëª‡ í”„ë½ì‹œëŠ” í´ë¼ì´ì–¸íŠ¸ì—ê²ŒëŠ” ë³´ì´ì§€ ì•Šì„ ìˆ˜ ìˆê¸° ë•Œë¬¸ì´ë‹¤. ë¹„ë¡ í´ë¼ì´ì–¸íŠ¸ê°€ í”„ë½ì‹œë¥¼ ì‚¬ìš©í•œë‹¤ê³  ì„¤ì •ë˜ì–´ ìˆì§€ ì•Šë”ë¼ë„, í´ë¼ì´ì–¸íŠ¸ì˜ íŠ¸ë˜í”½ì€ ì—¬ì „íˆ ëŒ€ë¦¬ í”„ë½ì‹œë‚˜ ì¸í„°ì…‰íŠ¸ í”„ë½ì‹œë¥¼ ì§€ë‚  ìˆ˜ ìˆë‹¤. ë‘ ê°€ì§€ ê²½ìš° ëª¨ë‘, í´ë¼ì´ì–¸íŠ¸ëŠ” ìì‹ ì´ ì›¹ ì„œë²„ì™€ ëŒ€í™”í•˜ê³  ìˆë‹¤ê³  ìƒê°í•˜ê³  ì™„ì „í•œ URIë¥¼ ë³´ë‚´ì§€ ì•Šì„ ê²ƒì´ë‹¤. (166-167p)

> Server ì‘ë‹µ í—¤ë” í•„ë“œëŠ” ì› ì„œë²„ì— ì˜í•´ ì‚¬ìš©ë˜ëŠ” ì†Œí”„íŠ¸ì›¨ì–´ë¥¼ ì•Œë ¤ì¤€ë‹¤. (ì¤‘ëµ) Server í—¤ë”ëŠ” ì› ì„œë²„ë¥¼ ìœ„í•´ ì¡´ì¬í•œë‹¤. (176p)

> HTTP/1.1ì˜ TRACE ë©”ì„œë“œëŠ” ìš”ì²­ ë©”ì‹œì§€ë¥¼ í”„ë½ì‹œì˜ ì—°ì‡„ë¥¼ ë”°ë¼ê°€ë©´ì„œ ì–´ë–¤ í”„ë½ì‹œë¥¼ ì§€ë‚˜ê°€ê³  ì–´ë–»ê²Œ ê° í”„ë½ì‹œê°€ ìš”ì²­ ë©”ì‹œì§€ë¥¼ ìˆ˜ì •í•˜ëŠ”ì§€ ê´€ì°°/ì¶”ì  í•  ìˆ˜ ìˆë„ë¡ í•´ì¤€ë‹¤. TRACEëŠ” í”„ë½ì‹œ íë¦„ì„ ë””ë²„ê¹…í•˜ëŠ”ë° ë§¤ìš° ìœ ìš©í•˜ë‹¤. (177p)

## ì°¸ê³ ìë£Œ

[[Infra] ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ(reverse proxy) ì„œë²„ ê°œë…](https://losskatsu.github.io/it-infra/reverse-proxy/)

[[Nginx] ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ(Reverse Proxy) ê°œë… ë° ì‚¬ìš©ë²•](https://narup.tistory.com/238)
