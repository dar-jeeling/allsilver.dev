---
title: '220624-25 TIL'
date: 2022-06-28 23:50:23
tags: []
category: '데브코스'
draft: false
---

✨ = 내 생각 비중 높음

블루스크린 뜨는 바람에 날라간 TIL을 다시 작성한다......😢

## Today I Learned

### useImpreativeHandle

- ✨ 주로 Ref 와 함께 사용하는 hook이며, ref로 사용되어지는 컴포넌트의 추상화, 캡슣화된 메서드를 제공하기 위해 활용된다. 이전에 `useRef`는 어떤 지속적으로 유지되기 위한 변수(reference라고 한다)를 만들기 위해 사용한다. 이 말은, reference 라는 객체 안의 current 라는 프로퍼티에 이 변수의 값을 저장하고, 이 안의 값은 컴포넌트가 렌더링되도 변하지 않으며, 이 값이 변하는 것은 컴포넌트를 렌더링하게 하지 않는다.
- ✨ 따라서, 컴포넌트를 위한 로직을 위하여 사용되는, 어떤 로직을 위한 데이터를 저장하는데 주로 사용하거나 DOM 요소 자체를 저장하는데 사용한다. (왜냐하면, 어떤 컴포넌트 안에서 DOM을 조작한다는 것을 생각해보면 컴포넌트를 위한 값이 아니라 컴포넌트 밖에서 그만의 side effect를 발생시키는 것이기 때문이다.)

  `React.forwardRef`를 통하여 컴포넌트를 감싸줌으로써, 일반적인 DOM 요소 뿐만이 아니라 컴포넌트 그 자체도 ref에 담아서 다른 컴포넌트에서 사용되게끔 할 수 있다.


    `useRef`를 통하여 DOM을 조작하려면, ref를 사용하는 쪽에서, `useRef.current` 를 통해 Reference 안에 담긴 value에 접근하고, 그 DOM에 해당하는 메소드를 사용하는 방식으로 조작한다.

- ✨ `useImpreativeHandle` 은 ref로 사용되는 쪽에서 ref를 사용하는 쪽에 추상화된 메서드를 적용한다. 즉, ref를 사용하는 쪽에서 ref의 자세한 메서드 동작 방식을 알지 않아도 ref 로 사용되는 쪽에서 `useImpreativeHandle`  를 통하여 정의한 메서드만을 사용하여 ref를 다룰 수 있게 한다.

  즉, 일종의 추상화와 캡슐화를 위한 Hook이라고 생각하면 될 듯하다.

### 컴포넌트 심화

- 컴포넌트를 작성할 때, **응집도와 결합도** 를 주목하여 작성한다.
- **응집도** 는 **모듈 내에 포함된 요소들이 서로 연관되어 있는 정도** 를 나타내고, 모듈 내 기능들이 **하나의 책임으로** 잘 뭉쳐있는지를 나타낸다. 즉, 필요한 기능이 하나의 모듈안에 위치하고 있어야 한다.
- 높은 응집도를 실현시키기 위하여 **공통 폐쇄 원칙** 과 **공통 재사용 원칙** 등을 적용시킬 수 있다.
- 공통 폐쇄 원칙이란 종속된 기능들을 하나의 모듈로 묶는 것이다. 동일한 시점에 변경되는 기능을 하나의 모듈로 묶어야 한다는 원칙을 뜻한다.
- 공통 재사용 원칙이란 모듈 내의 기능이 함께 재사용이 될 수 있어야 한다는 원칙이다. 반대로 이야기하면 함께 재사용이 될 수 없으면 분리해야 한다는 것이다.
- 공통 폐쇄 원칙과 공통 재사용 원칙은 trade-off 관계이다. 즉, 두 원칙을 상황에 따라 골고루 사용해야한다. 공통 폐쇄 원칙의 힘을 주면 재사용성이 낮은 적은 수의 컴포넌트가 만들어지고, 공통 재사용 원칙에 힘을 주면 많은 수의 재사용성이 높은 컴포넌트가 만들어진다.
- 결합도란 다른 모듈과의 의존성에 대한 정도이다. 결합도가 낮을 수록 안정성이 증가한다.
- React에서는 컴포넌트를 나눌 때, 웬만하면 추상화 단위로 나누는 것이 편하다.
