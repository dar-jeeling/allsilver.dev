---
title: '220502 TIL'
date: 2022-05-03 04:15:06
tags: ['TiL']
category: '데브코스'
draft: false
---

### 공부한 내용

- **딥다이브 스터디 \- 프로토타입**

  \- 프로토타입의 생성 시점

  \- 추상연산 OrdinaryObjectCreate

  \- Wrapper 객체에 대하여 (스터디 내용)

  \- 프로토타입 체인과 스코프 체인

  \- [no-prototype-builtins](https://eslint.org/docs/rules/no-prototype-builtins)

  \- instanceof 연산자

  \- Object.create

  \- Object.keys/ values / entries

### HighLight

더보기

#### 프로토타입의 생성 시점

생성자 함수를 생각해보자. 생성자 함수는 함수 객체이므로, 함수 객체만이 가지는 프로퍼티인 prototype 프로퍼티를 가지게 되는데, 이 객체가 생성되자마자 prototype 프로퍼티에 constructor라는 속성을 가진 객체(설명의 편의를 위해서 프로토타입 객체라고 부르도록 하겠습니다)가 바인딩 된다. 따라서, 생성자 함수가 생성되자마자 이러한 프로토타입 객체가 생성되는 것이다. 이는 런타임 이전에 자바스크립트 엔진에 의해 함수가 생성될 때 발생하는 일이다.

#### 추상연산 OrdinaryObjectCreate

자바스크립트에서 객체가 만들어지는 과정은 추상연산인 OrdinaryObjectCreate로 구현된다. 따라서 자바스크립트의 모든 '객체'는 OrdinryObjectCreate라는 방식으로 구현되었다고 볼 수 있다.

OrdinaryObjectCreate(프로토타입, 추가할 프로퍼티 목록) 은

1\. 빈 객체를 생성하고

2\. 추가할 프로퍼티 목록을 객체로 빈 객체의 프로퍼티로 추가하고

3\. 인수로 전달받은 프로토타입을 객체의 프로토타입으로 한다.

따라서 일반적인 객체 Obejct에 이 내용을 적용시켜보면 Object라는 객체는

OrdinaryObjectCreate(Object.prototype) 으로 구현되었다고 추론할 수 있다.

이 내용은 생성자 함수로 부터 프로토타입이 바인딩되는 과정과 완전히 비슷한 과정이므로,

자바스크립트를 이루고 있는 객체들, 모든 내장 객체들이 생성자 함수로부터 객체가 만들어진 과정과 같은 과정을 거쳐서 만들어졌다고 생각할 수 있다.

#### 원시값에 대한 Wrapper 객체에 대하여

자바스크립트의 '거의' 모든 것들이 객체이다. 이 '거의'를 제외한 것은 '원시 값'이다.

자바스크립트에서는 원시값에 대한 Wrapper 객체를 제공한다.

Wrapper 객체는 이 객체가 함수로 사용되었냐 와 생성자 함수로 사용되었냐 에 따라서 다르게 동작된다.

예를 들어서 Number 이라는 함수를 생각해보자.

```javascript
const one = Number(1) // 그냥 원시값 1임
// Number라는 객체가 만들어짐. 따라서 이제 Number 객체가 제공하는 프로퍼티와 메서드를 사용 가능
const one = new Number(1)
```

#### instanceof 연산자의 동작 방식

스터디 때 아주 헷갈렸던 내용이었다.

instanceof 연산자는 **객체 instanceof 생성자함수** 의 형태로 사용된다. 이 연산자를 요약하면 **'이 객체가 이 생성자 함수로부터 만들어진 인스턴스인가?'** 정도의 뜻이라고 생각하면 된다.

그렇다면 **'이 객체가 이 생성자 함수로부터 만들어진 인스턴스인가?'** 의 기준은

**1\. 생성자함수의 prototype 프로퍼티로 연결되어있는 객체가**

**2\. 객체의 프로토타입 체인을 타고 올라갔을 때 존재하는가?**

라고 요약할 수 있다.

#### Object.keys/ values / entries

결론 : hasOwnProperty 같은걸로 일일히 검사하지말고 저거 쓸 수 있으면 저거 쓰자

### 회고

**1\. 오늘 배운 내용에 대하여**

- 프로토타입이라는 내용은... 생각보다 심오한 내용인거 같다. CS 발표를 위해서, 조사한 내용과 별개로, 딥다이브 책에서 생각보다 더 많은 내용이 있어서 당황했다. 그래도, 발표를 위해 작성한 아티클이나 파워포인트에 (일단은) 큰 오류가 없는 것 같아서 다행이다. (솔직히 추상연산 내용 나올 때, 설마 내가 잘못된 정보를 작성했나 무서웠다)
- 그래서 자바스크립트는 왜 프로토타입을 선택했을까.. 철학적이고 뭐고를 다 떠나서 나의 뇌피셜은... 자바스크립트가 만들어진 과정 자체가 상당히 다이나믹하다고 생각하는데, 그런 과정이 반영된 느낌이였다. 클래스 기반의 상속과는 달리 프로토타입 기반의 상속 방식은 클래스에 비해서 다이나믹 하다는 특성이 있는데(중간에 구조나 동작 방식이 변한다던가, 자바스크립트에서 타입이 동적으로 결정되는 것과 비슷하다는 생각이 들었다), 그런게 반영된게 아닐까? 또한 자바스크립트가 실행되는 환경인 '브라우저'라는 환경은 완전히 정적이라고 할 수없고, 어떤 이벤트가 발생할 지 모르는 환경이니깐, 클래스를 통해서 어떤 '속성'으로 분류하는 것 보다 '유사성'을 기준으로 객체 지향을 구현하는게 더 모델링하기에 적합했을지도 모르겠다.

**2\. 오늘 하루에 대하여**

- 사실 오늘 CSS 도 내용을 조금 정리하고 있었는데, 이거 정리하다보면 오늘 잠을 못잘것같으므로... (그리고 상태가 영...메롱이라서 머릿속에서 내용이 안꺼내진다. 근데 프로토타입 내용은 조금 세뇌된거같음) 임시저장에 남겨두었다. 내일부터 정리해보도록 하겠다.
- 발표와 아티클을 준비했을 때, 가장 어려웠던 것은 내가 이해한 방식을 추상화하고, 그걸 전달하기 위해서 그림을 그리거나 파워포인트 에니메이션을 이용하거나, 문장을 작성해야하는데 이 방식을 어떻게 해야 다른 사람에게 잘 와닿게 할 수 있을지 선택하는 것이 어려웠다. 특히나, 이번 발표의 경우 slido가 아니라 원테이크로 영상을 녹화했는데.... 생각보다 쉽지 않았다. (일단 내가 뭔말을 하고 있는지 체크할 수 없으니!)

  음.. 그리고 아티클 내용을 발표 내용에 맞춰서 조금 수정하고 싶은데(아티클 보다 발표가 더 자세한거 같음)... 이건 조금 미뤄둘 것이다. 이유.. 이러다가 이번 주 내내 프로토타입만하게 생겼음................

### 참고했던 자료

[https://dev.to/iphiee_oma/understand-javascript-abstract-operations-in-7-minutes-1951](https://dev.to/iphiee_oma/understand-javascript-abstract-operations-in-7-minutes-1951)

[Understand JavaScript Abstract Operations in 7 Minutes.\
\
\
To help you understand better, let’s quickly revisit types in JavaScript. Variables in JavaScript do...\
\
\
dev.to](https://dev.to/iphiee_oma/understand-javascript-abstract-operations-in-7-minutes-1951)
